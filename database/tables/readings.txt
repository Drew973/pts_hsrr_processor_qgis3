

drop table if exists readings cascade;

create table if not exists readings
(
pk serial primary key
,run varchar references hsrr.run_info(run) on delete cascade on update cascade
,f_line int--which line of file data came from
,t timestamptz
,raw_ch int--machine chainage from file. start or end?
,rl int--reading
,s_point geometry('Point',27700)
,e_point geometry('Point',27700)
,vect geometry('Linestring',27700)
,s_ch float--chainage of start in km
,e_ch float--chainage of end in km
,ps_text varchar--possible section and direction
,rg numrange
);

create index on hsrr.readings using gist(vect);
